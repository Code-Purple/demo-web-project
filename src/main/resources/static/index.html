<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Let's go Karaokin'!</title>
<meta name="Portable, simple karaoke" content="" />
<link rel="stylesheet" href="css/styles.css" />
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.4/dist/typeahead.jquery.js"></script>
</head>

    <body>
        <div id="bg_video">
            <video autoplay="autoplay" loop="loop">
                <source src="video/karaoke-video-bg.mp4" type="video/mp4" />
                <source src="video/karaoke-video-bg.ogv" type="video/ogg" />
                <source src="video/karaoke-video-bg.webm" type="video/webm" />
            </video>
        </div>
        <div id="menu-bar">
            <img src="images/logo-wave-large-text.png" alt="karaokin logo" class="logo" />
            <div id="menu-items">
            <h1> Portable. Easy. Fun!</h1> 
                <ul>
                    <li class='active'><a href='index.html'>
                        <span>Home</span></a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="#">Login / Sign Up</a></li>
                </ul>
            </div>
        </div>
        <div id="search-container"> 
            <h4> Let's get the karaoke party started, </br>enter a song now!</h4> 
            <div id="search">
              <input id="searchbox" class="songTA" type="text" placeholder="Enter a song title or artist name" onkeypress="LoadPage(event)">
            </div>
        </div>
    </body>
    
    <script>
        var substringMatcher = function(strs) {
          return function findMatches(q, cb) {
            var matches, substrRegex;
         
            // an array that will be populated with substring matches
            matches = [];
         
            // regex used to determine if a string contains the substring `q`
            substrRegex = new RegExp(q, 'i');
         
            // iterate through the pool of strings and for any string that
            // contains the substring `q`, add it to the `matches` array
            $.each(strs, function(i, str) {
              if (substrRegex.test(str)) {
                // the typeahead jQuery plugin expects suggestions to a
                // JavaScript object, refer to typeahead docs for more info
                matches.push({ value: str });
              }
            });
         
            cb(matches);
          };
        };
 
        var states = ['Dream a Little Dream of Me', 'Mamas and the Papas',
                      'Happy', 'Pharell Williams',
                      'Livin\' on a Prayer', 'Bon Jovi',
        ];
         
        $('#search .songTA').typeahead({
          hint: true,
          highlight: true,
          minLength: 1
        },
        {
          name: 'states',
          displayKey: 'value',
          source: substringMatcher(states)
        });
    </script>
    
    <script type="text/javascript">
	$('#searchbox').focus();
	function LoadPage(e) 
	{
		if (e.keyCode == 13)
		{
			input = $('#searchbox').val();
			console.log(input);
			
			if (input.toLowerCase().indexOf("dream a little dream of me") != -1 ||
					input.toLowerCase().indexOf("mamas and the papas") != -1)
			{
				window.location.href = "dream_a_little_dream.html";
				
			}
			
            if (input.toLowerCase().indexOf("happy") != -1 ||
					input.toLowerCase().indexOf("pharell williams") != -1)
			{
				window.location.href = "happy_pharrell.html";
			}
			
            if (input.toLowerCase().indexOf("livin\' on a prayer") != -1 ||
					input.toLowerCase().indexOf("bon jovi") != -1)
			{
				window.location.href = "livin_on_a_prayer.html";
			}
		}
	}
</script>
    </script>
</html>
